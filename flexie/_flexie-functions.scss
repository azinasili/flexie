////
/// Flexie grid system
/// @author: Azin Asili
/// @link https://github.com/azinasili/flexie
////

/// Flex display value getter
/// @param {String} $flexie-display - Flex display value
/// @return {Value} Flex display value
/// @throw Warning if $flexie-display is not 'flex' or 'inline-flex'
@function flexie-display($flexie-display) {
  @if not index('flex' 'inline-flex', $flexie-display) {
    @warn '`#{$flexie-display}` is not a valid argument of flexie-display(). Please use `flex` or `inline-flex` instead.';
  }
  @return $flexie-display;
}

/// Flex direction value getter
/// @param {String} $flexie-direction - Flex direction value
/// @return {Value} Flex direction value
/// @throw Warning if $flexie-direction is not 'row', 'row-reverse', 'column', or 'column-reverse'
@function flexie-direction($flexie-direction) {
  @if not index('row' 'row-reverse' 'column' 'column-reverse', $flexie-direction) {
    @warn '`#{$flexie-direction}` is not a valid argument of flexie-direction(). Please use `row`, `row-reverse`, `column`, or `column-reverse` instead.';
  }
  @return $flexie-direction;
}

/// Calculate gutter for row or column
/// @param {String} $row-or-col - Gutter context
/// @param {Number} $flexie-gutter - Gutter width
/// @return {Number} Gutter width for row or column
/// @throw Warning if $flexie-gutter is not a unitless number
@function flexie-gutter($row-or-col, $flexie-gutter) {
  @if $flexie-gutter == 0 {
    @return $flexie-gutter;
  } @else if type-of($flexie-gutter) != number or unitless($flexie-gutter) == true {
    @warn '`#{$flexie-gutter}` is not a valid argument of flexie-gutter(). Please use a number with a unit instead';
  }
  @if $row-or-col == 'col' or $row-or-col == 'column' {
    @return $flexie-gutter/2;
  } @else if $row-or-col == 'row' {
    @return $flexie-gutter/-2;
  }
}

/// Flex wrap getter
/// @param {String} $flexie-wrap - Flex wrap value
/// @return {Value} Flex wrap value
/// @throw Warning if $flexie-wrap is not 'wrap', 'wrap-reverse', 'nowrap'
@function flexie-wrap($flexie-wrap) {
  @if not index('wrap' 'wrap-reverse' 'nowrap', $flexie-wrap) {
    @warn '`#{$flexie-wrap}` is not a valid argument of flexie-wrap(). Please use `wrap`, `wrap-reverse`, or `nowrap` instead.';
  }
  @return $flexie-wrap;
}

/// Flex items horizontal distribution getter
/// @param {String} $flexie-justify - Flex items horizontal distribution value
/// @return {Value} items horizontal distribution value
/// @throw Warning if $flexie-justify is not 'flex-start', 'flex-end', 'center', 'space-around', 'space-between', 'around', 'between', 'left', or 'right'
@function flexie-justify($flexie-justify) {
  $shorthand: (
    around  : space-around,
    between : space-between,
    left    : flex-start,
    right   : flex-end
  );
  @if not index('flex-start' 'flex-end' 'center' 'space-around' 'space-between', $flexie-justify) and map-has-key($shorthand, $flexie-justify) == false {
    @warn '`#{$flexie-justify}` is not a valid argument for flexie-justify(). Please use `flex-start`, `flex-end`, `center`, `space-around`, `space-between`, `around`, `between`, `left`, or `right` instead.';
  } @else if map-has-key($shorthand, $flexie-justify) {
    @return map-get($shorthand, $flexie-justify);
  }
  @return $flexie-justify;
}

/// Flex item alignment getter
/// @param {String} $flexie-col-align - Flex alignment value for row or column
/// @return {Value} Flex alignment value
/// @throw Warning if $flexie-align is not 'flex-start', 'flex-end', 'center', 'stretch', 'baseline', 'bottom', 'middle', or 'top'
@function flexie-align($flexie-align) {
  $shorthand: (
    bottom : flex-end,
    middle : center,
    top    : flex-start
  );
  @if not index('flex-start' 'flex-end' 'center' 'stretch' 'baseline', $flexie-align) and map-has-key($shorthand, $flexie-align) == false {
    @warn '`#{$flexie-align}` is not a valid argument for flexie-align(). Please use `flex-start`, `flex-end`, `center`, `stretch`, `baseline`, `bottom`, `middle`, or `top` instead.';
  } @else if map-has-key($shorthand, $flexie-align) {
    @return map-get($shorthand, $flexie-align);
  }
  @return $flexie-align;
}

/// Flex item order getter
/// @param {Number} $flexie-order - Flex item source order value
/// @return {Number} Flex item source order value
/// @throw Warning if $flexie-order is not a unitless integer
@function flexie-order($flexie-order) {
  @if type-of($flexie-order) != number or unitless($flexie-order) != true or round($flexie-order) != $flexie-order {
    @warn '`#{$flexie-order}` is not a valid argument of flexie-order(). Please use a unit-less integer instead.';
  }
  @return $flexie-order;
}
